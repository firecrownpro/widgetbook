# Widgetbook Hosting

Widgetbook Hosting enables users to upload the Flutter web version of a Widgetbook to Widgetbook Cloud. To upload any Widgetbook, you need an API key.

## How to Create an API Key

1. Log in to Widgetbook Cloud with your account.
2. API keys are tied to projects, so you need a project to obtain an API key.
3. Only users with the `Owner` role can fetch a project's API key to protect sensitive information.
4. If you are not a project owner but need the API key, ask your project owner to promote you from member to owner. For more information on member management, see [Member Management](/widgetbook-cloud/projects#member-management).
5. To create a new project, [create a billing account](/widgetbook-cloud/billing) first.
6. On the project's detail page, a card with a button to fetch the API key is displayed. Click the button to copy the API key to your clipboard.

## Hosting with CI/CD Vendors

To upload a Widgetbook Build and create Reviews in your CI/CD pipeline, follow these steps:

1. Install the Flutter SDK.
2. Run the [`build_runner`](https://pub.dev/packages/build_runner) package: `flutter pub run build_runner build --delete-conflicting-outputs`.
3. Build your Widgetbook: `flutter build web -t path/to/widgetbook/main/file`.
4. Activate the [Widgetbook CLI](https://pub.dev/packages/widgetbook_cli): `dart pub global activate widgetbook_cli`.
5. Run the CLI as described in the documentation.

### Examples

| CI/CD Vendor | Link                                                                                                 |
| ------------ | ---------------------------------------------------------------------------------------------------- |
| GitHub       | [ðŸ”—](https://github.com/widgetbook/widgetbook-demo/blob/staging/.github/workflows/upload-review.yml) |
| Codemagic    | [ðŸ”—](https://github.com/widgetbook/widgetbook-demo/blob/staging/codemagic.yaml)                      |
| Azure        | [ðŸ”—](https://github.com/widgetbook/widgetbook-demo/blob/staging/.azure/pipelines.yml)                |
| GitLab       | [ðŸ”—](https://github.com/widgetbook/widgetbook-demo/blob/staging/.gitlab-ci.yml)                      |

> Is your CI/CD vendor missing? [Let us know via Discord](https://discord.com/invite/zT4AMStAJA), and we'll be happy to help.

<Info>Are you using BitBucket? You can [read more here](/widgetbook-cloud/bitbucket)</Info>

## Environment Variables

The Docker image reads Git-specific information, like branch name and repository name, from environment variables. It also requires two mandatory user-provided environment variables. In BitBucket, add repository variables by navigating to the repository settings and selecting repository variables.

| Environment Variable    | Description                                                                                                      | Is Required |
| ----------------------- | ---------------------------------------------------------------------------------------------------------------- | ----------- |
| `WIDGETBOOK_BUILD_PATH` | The path to the web build of the Widgetbook. For small repositories, this is likely `build/web/`.                | âœ…          |
| `WIDGETBOOK_API_KEY`    | The API key for your company. See [How to Create an API Key](/widgetbook-cloud/hosting#how-to-create-an-api-key) | âœ…          |
