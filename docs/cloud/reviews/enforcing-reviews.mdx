## Enforcing reviews

Depending on your goals and workflow you might want to enforce reviews for all changes in your project requiring an accepted Widgetbook review for each pull or merge request with changes.

### GitHub

When Widgetbook review is enabled for your project, Widgetbook Cloud will automatically create a review for your PR and post the URL in your git PR as a commit status. 
If changes are requested, the commit status will block your PR from getting merged until the requested changes are applied.
However, the default configuration in GitHub allows for PRs to be merged even if the status checks are not passing or pending.

<Image src="/assets/cloud/reviews/enforcing-reviews/unblocked-review.png" />

To enforce reviews for all changes in your project, you can set up a branch protection rule in your GitHub repository. 
This will prevent PRs from being merged until the Widgetbook review is accepted.

<Steps>
  <Step title="Open repository settings">
    Navigate to the repository settings in GitHub.
  </Step>
  <Step title="Open the ruleset page">
    In the navigation, click on *Rules* to open the accordion. 
    Then click on *Rulesets* to open the rulesets page.

    <Image src="/assets/cloud/reviews/enforcing-reviews/rulesets-page.png" />
  </Step>
  <Step title="Set name">
    Make sure to set a name for the new ruleset. 
    For instance, set it to `Widgetbook Review`.
  </Step>
  <Step title="Activate rulet">
    Make sure to set the enforcement status to `Active`.

    <Image src="/assets/cloud/reviews/enforcing-reviews/enable-ruleset.png" />
  </Step>
  <Step title="Create new target">
    Scroll down to the *Targets* section and click on *Create target*.
    Select make sure to select the branch you want to protect.
    We recommend to choose *Include default branch* but depending on your workflow you might want to choose one more multiple different branches.

    <Image src="/assets/cloud/reviews/enforcing-reviews/create-new-target.png" />
  </Step>
  <Step title="Require status checks to pass">
    On the page scroll down to the rules section.
    Optional: Make sure to disable the pre-selected rules. 
    Once everything is deselected enable the rule *Require status checks to pass*. 

    <Image src="/assets/cloud/reviews/enforcing-reviews/enable-status-checks.png" />
  </Step>
    <Step title="Add Widgetbook status check">
    To make the Widgetbook Review commit status required, click the *Add checks* button.
    In the searchbox copy the name of the Widgetbook review status check which is formatted as `Widgetbook Review (<widgetbook-project-name>)`.
    If you already have a pull-request with a Widgetbook Review commit status you can also obtain the name from the status checks section in the PR.

    <Image src="/assets/cloud/reviews/enforcing-reviews/review-commit-status.png" />

    In the example above the status check is named `Widgetbook Review (widgetbook-explained)`.

    In the searchbox, select the item that is shown.
    <Image src="/assets/cloud/reviews/enforcing-reviews/create-new-check.png" />

    Once the dropdown menu is deselected, the check will be added.

    In case no source is configured, make sure to select the *Widgetbook* app as the source.

    <Image src="/assets/cloud/reviews/enforcing-reviews/edit-check-source.png" />
  </Step>
  <Step title="Create the branch ruleset">
    At the bottom of the page, make sure to press the *Create* button. 
  </Step>
  <Step title="Verify ruleset">
    You can navigate to a PR to verify that the Widgetbook Review status check is now required to merge the PR.

    <Image src="/assets/cloud/reviews/enforcing-reviews/result.png" />
  </Step>
</Steps>