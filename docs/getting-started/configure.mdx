# Configuration

You can heavily customize Widgetbook by 
- building a component catalog.
- making Components adjustable via Knobs.
- specify which properties are available via Add-ons.

## Components and variants

This documentation refers to Widgets as components since design tools like Figma use this terminology to describe their reusable UI elements. 
Components in Figma might be resembled by one or multiple variants which are variations of a component. 
In Flutter, the `TextButton`, `ElevatedButton`, and `OutlineButton` are variants of a _Button_ component. 
In addition, different Flutter states of a button (e.g. `focused` or `hovered`) might resemble in Figma as additional variants. 

<Image 
    zoom
    src="/assets/getting-started/figma-button-component.svg" 
    alt="Figma Material button component with variants" 
    caption="Figma Material button component with variants" 
/>

## Adding components to the catalog

In Widgetbook, developers create a folder tree structure to organize and catalog components. 
Besides various elements to categorize all the components, Widgetbook features a _component_ and _use-case_ approach in which a single component has one or multiple use-cases.
A use-case might resemble a variant of a component or just a specific state of the component.

Components and use-cases are shown in the Widgetbook navigation.

<Info>Adding components to Widgetbook works differently regarding the usage of the [manual approach](/getting-started/getting-started#approaches) or [generator approach](/getting-started/getting-started#approaches).</Info>

<Tabs
  groupId="approach"
  values={[
    { label: 'Generator', value: 'generator' },
    { label: 'Manual', value: 'manual' },
  ]}
>
  <TabItem value="generator">
    ```dart title="Use-case definition for Container component"
    import 'package:widgetbook_annotation/widgetbook_annotation.dart';

    @WidgetbookUseCase(
      name: 'with green color',
      type: Container,
    )
    Widget greenContainerUseCase(BuildContext context) {
      return Column(
        children: [
          Container(
            color: Colors.green,
          ),
        ],
      );
    }
    ```

    Adding use-cases with the generator is based on the `@WidgetbookUseCase` annotation provided by the [widgetbook_annotation package](https://pub.dev/packages/widgetbook_annotation).

    #### Use-case builder method

    The annotation is used on a use-case builder method with a return type of `Widget` and a single required parameter `BuildContext`.
    
    <Info>
        You can freely pick the name of the method, but make sure the name of a newly created use-case builder method does not have a name conflict with already existing methods.
    </Info>

    In addition, `@WidgetbookUseCase` requires two mandatory parameters `type` and `name` that allow you to customize how the use-case is shown in the navigation of Widgetbook. 

    #### `type` property
    The `type` property is used by the generator to create the component entry within the navigation. 
    As a developer, you want to specify the type of the cataloged component (`Container`) instead of the one that might be returned by the builder method (`Column`).

    #### `name` property
    The `name` property of the annotation allows you to specify the name of the use-case. 
    In the case of the example, this is `with green color`.

    <Warning>Run the `build_runner` again via `flutter pub run build_runner build` or `flutter pub run build_runner watch` to update the Widgetbook with the newly created use-case.</Warning>

    <Heading type="h3">Navigation structure with the generator</Heading>

    The generator creates the navigation tree based on the file location of the component that has been specified for the `type` parameter of the `@WidgetbookUseCase` annotation. 
    Therefore, the navigation structure of the Widgetbook resembles the structure of your application or package.

    <Warning>
        As of now, it's not possible to configure a different navigation structure using the generator. 
        The Widgetbook team aims to provide a solution in the future.
    </Warning>
  </TabItem>
  <TabItem value="manual">
    <Info>
      This section is to be done and will be completed soon.
    </Info>
  </TabItem>
</Tabs>

## Knobs

Knobs allow developers to customize how users of Widgetbook interact with a use-case of a component. 
Due to knobs, users of Widgetbook can change the parameters of a use-case to test different inputs and states.
Changing the parameters helps developers and designers to better understand the functionality of a component.

[Follow the documentation](/knobs/overview) to understand how to configure knobs.

## Add-ons

Add-ons allow developers to customize Widgetbook which impacts how all components are previewed in Widgetbook.
Due to add-ons, developers are enabled to add different themes, localization, devices, and many more functionalities.

[Follow the documentation](/add-ons/overview) to understand how to configure add-ons.

## Customize how use-cases are previewed

Widgetbook allows developers to fully customize how use-cases are previewed based on the selected add-on properties.

To customize Widgetbook, define a function that returns a `Widget` and accepts two required parameters `context` of type `BuildContext` and `child` of type `Widget`.
The `context` parameter provides access to the add-on properties as described [here](/add-ons/overview).
The `child` parameter provides the build use-case.

```dart title="Custom Material app builder"
Widget customAppBuilder(BuildContext context, Widget child) {
  final builder = Builder(
    builder: (context) {
      return MaterialApp(
        theme: context.materialTheme,
        locale: context.localization!.activeLocale,
        supportedLocales: context.localization!.locales,
        localizationsDelegates:
            context.localization!.localizationsDelegates,
        debugShowCheckedModeBanner: false,
        home: Scaffold(
          body: MediaQuery(
            data: MediaQuery.of(context).copyWith(
              textScaleFactor: context.textScale,
            ),
            child: child,
          ),
        ),
      );
    },
  );
  final frameBuilder = context.frameBuilder!;
  return frameBuilder(
    context,
    builder,
  );
}
```

<Tabs
  groupId="approach"
  values={[
    { label: 'Generator', value: 'generator' },
    { label: 'Manual', value: 'manual' },
  ]}
>
  <TabItem value="generator">
    Annotate the `AppBuilder` method with the `@WidgetbookAppBuilder` annotation to generate the Widgetbook with your custom implementation instead of the default one. 

    ```dart title="Annotated custom Material app builder"
    @WidgetbookAppBuilder()
    Widget customAppBuilder(BuildContext context, Widget child) {
      // Your code
    }
    ```

    <Success>
      Widgetbook now uses your custom `AppBuilder` method.
    </Success>
  </TabItem>
  <TabItem value="manual">
    Use the `appBuilder` property of `WidgetbookApp` to specify your custom `AppBuilder` method.

    ```dart title="Custom Material app builder"
    return Widgetbook.material(
      addons: [],
      directories: [],
      appBuilder: customAppBuilder,
    );
    ```

    <Success>
      Widgetbook now uses your custom `AppBuilder` method.
    </Success>
  </TabItem>
</Tabs>